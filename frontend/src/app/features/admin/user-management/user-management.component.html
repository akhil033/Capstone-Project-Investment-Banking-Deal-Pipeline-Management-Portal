<div class="modern-admin">
  <!-- Clean Header -->
  <header class="admin-header">
    <div class="header-main">
      <h1>Users</h1>
      <button mat-flat-button (click)="openCreateUserDialog()" class="add-user-btn">
        <mat-icon>add</mat-icon>
        Add user
      </button>
    </div>
  </header>

  <!-- Modern User Table -->
  <div class="users-container">
    <div class="table-wrapper" *ngIf="users.length > 0">
      <table mat-table [dataSource]="users" class="modern-table">
        
        <!-- User Column -->
        <ng-container matColumnDef="user">
          <th mat-header-cell *matHeaderCellDef>User</th>
          <td mat-cell *matCellDef="let user">
            <div class="user-cell">
              <div class="user-avatar">{{ user.username.charAt(0).toUpperCase() }}</div>
              <div class="user-info">
                <div class="user-name">{{ user.username }}</div>
                <div class="user-email">{{ user.email }}</div>
              </div>
            </div>
          </td>
        </ng-container>

        <!-- Role Column -->
        <ng-container matColumnDef="role">
          <th mat-header-cell *matHeaderCellDef>Role</th>
          <td mat-cell *matCellDef="let user">
            <span class="role-badge" [class]="'role-' + user.role.toLowerCase()">
              {{ user.role }}
            </span>
          </td>
        </ng-container>

        <!-- Status Column -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let user">
            <div class="status-cell">
              <div class="status-dot" [class.active]="user.active"></div>
              <span class="status-text">{{ user.active ? 'Active' : 'Inactive' }}</span>
            </div>
          </td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let user">
            <div class="actions-cell">
              <button mat-icon-button 
                      (click)="toggleUserStatus(user)"
                      [disabled]="loading"
                      [matTooltip]="user.active ? 'Deactivate user' : 'Activate user'"
                      class="action-btn">
                <mat-icon>{{ user.active ? 'block' : 'check_circle' }}</mat-icon>
              </button>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
            [class.loading]="loading"></tr>
      </table>
    </div>

    <!-- Empty State -->
    <div *ngIf="users.length === 0 && !loading" class="empty-state">
      <div class="empty-content">
        <div class="empty-icon">ğŸ‘¥</div>
        <h3>No users yet</h3>
        <p>Get started by adding your first user</p>
        <button mat-flat-button (click)="openCreateUserDialog()">
          Add your first user
        </button>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading && users.length === 0" class="loading-state">
      <div class="loading-spinner"></div>
    </div>
  </div>
</div>